<!doctype html>
<html>
<head>
<meta charset='GB2312'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>SSM开发流程</title></head>
<body><h1>SSM整合开发流程框架搭建</h1>
<blockquote><p>参考来源: <a href='https://www.bilibili.com/video/BV17W411g7zP?p=1'>bilibili - 尚硅谷SSM综合开发项目</a></p>
</blockquote>
<blockquote><p>说明：</p>
<p>这是我学习 <a href='https://www.bilibili.com/video/BV17W411g7zP?p=1'>bilibili - 尚硅谷SSM综合开发项目</a> 之后的框架搭建总结报告</p>
</blockquote>
<p>&nbsp;</p>
<div>[TOC]</div>
<p>&nbsp;</p>
<h2>简介</h2>
<p>SSM： SpringMVC + Spring + MyBatis.</p>
<p>SpringMVC: 视图层，也就是界面层，负责接收请求，显示处理结果。</p>
<p>Spring：业务层，管理service，dao，工具类对象的。</p>
<p>MyBatis：持久层， 用来访问数据库</p>
<p>目录结构：</p>
<p>src
    └─main -- Maven主目录
        ├─java
        │  └─com
        │      └─Jancoyan
        │          ├─controller -- 控制器
        │          ├─dao -- DAO接口，负责与数据库的沟通
        │          ├─domain -- 实体类，POJO类所在目录
        │          ├─service  -- 服务类
        │          ├─test -- 测试类，用来测试模块
        │          └─utils -- 工具类，减少代码的重复
        ├─resources
        │  ├─mapper -- MyBatis映射文件
        |  ├─applicationContext.xml -- Spring 配置文件
        |  ├─mybatis.xml -- MyBatis配置文件
        |  └─jdbc.properties -- 数据库连接配置文件
        └─webapp
        |  ├─index.jsp -- 默认访问文件
        |  ├─static -- 存放静态资源比如jQuery.js
        |  └─WEB-INF
        |      ├─views -- 视图文件夹
        |      ├─dispatcherServlet-servlet.xml -- SpringMVC配置文件
        |      └─web.xml -- web项目配置文件
        └─pom.xml -- maven配置文件</p>
<h2>配置文件</h2>
<h3>pom.xml</h3>
<p>依赖：</p>
<ul>
<li>分页插件pagehelper</li>
<li>mybatis逆向工程的mbg</li>
<li>JSR303数据校验</li>
<li>jackson</li>
<li>c3p0连接池</li>
<li>ssm基础依赖</li>

</ul>
<pre><code class='language-xml' lang='xml'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;org.example&lt;/groupId&gt;
  &lt;artifactId&gt;ssm&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;war&lt;/packaging&gt;


  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
  &lt;/properties&gt;

  &lt;!--引入项目依赖的jar包 --&gt;
  &lt;!-- SpringMVC、Spring --&gt;
  &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;
  &lt;dependencies&gt;

    &lt;!--引入pageHelper分页插件 --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
      &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;
      &lt;version&gt;5.0.0&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- MBG --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.mybatis.generator/mybatis-generator-core --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
      &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;
      &lt;version&gt;1.3.5&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
      &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- 返回json字符串的支持 --&gt;
    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
      &lt;version&gt;2.8.8&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!--JSR303数据校验支持；tomcat7及以上的服务器，
    tomcat7以下的服务器：el表达式。额外给服务器的lib包中替换新的标准的el
    --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
      &lt;version&gt;5.4.1.Final&lt;/version&gt;
    &lt;/dependency&gt;


    &lt;!-- Spring-Jdbc --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
      &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!--Spring-test --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;
      &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;


    &lt;!-- Spring面向切面编程 --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aspects --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;
      &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!--MyBatis --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
      &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
      &lt;version&gt;3.4.2&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- MyBatis整合Spring的适配包 --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis-spring --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
      &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;
      &lt;version&gt;1.3.1&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- 数据库连接池、驱动 --&gt;
    &lt;!-- https://mvnrepository.com/artifact/c3p0/c3p0 --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;c3p0&lt;/groupId&gt;
      &lt;artifactId&gt;c3p0&lt;/artifactId&gt;
      &lt;version&gt;0.9.1&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;/groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
      &lt;version&gt;5.1.41&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- （jstl，servlet-api，junit） --&gt;
    &lt;!-- https://mvnrepository.com/artifact/jstl/jstl --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;jstl&lt;/groupId&gt;
      &lt;artifactId&gt;jstl&lt;/artifactId&gt;
      &lt;version&gt;1.2&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
      &lt;version&gt;3.0.1&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;

    &lt;!-- junit --&gt;
    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.12&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;

  &lt;build&gt;
    &lt;resources&gt;
      &lt;resource&gt;
        &lt;directory&gt;src/main/java&lt;/directory&gt;
        &lt;includes&gt;
          &lt;include&gt;**/*.properties&lt;/include&gt;
          &lt;include&gt;**/*.xml&lt;/include&gt;
        &lt;/includes&gt;
      &lt;/resource&gt;
      &lt;resource&gt;
        &lt;directory&gt;src/main/resources&lt;/directory&gt;
        &lt;includes&gt;
          &lt;include&gt;**/*.xml&lt;/include&gt;
          &lt;include&gt;**/*.properties&lt;/include&gt;
        &lt;/includes&gt;
      &lt;/resource&gt;
    &lt;/resources&gt;

    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.6&lt;/version&gt;
        &lt;configuration&gt;
          &lt;includeEmptyDirectories&gt;true&lt;/includeEmptyDirectories&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;

  &lt;/build&gt;
&lt;/project&gt;

</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>applicationContext.xml</h3>
<p>&nbsp;</p>
<pre><code class='language-xml' lang='xml'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;

&lt;!--    这里配置业务逻辑--&gt;

&lt;!--    配置组件扫描，扫描的包为Controller包下的所有类--&gt;
    &lt;context:component-scan base-package=&quot;com.Jancoyan&quot;&gt;
        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;
    &lt;/context:component-scan&gt;

&lt;!--    配置数据库连接池，这里使用的时c3p0连接池， 从resources目录下的jdbc.properties中读取数据库的配置文件--&gt;
    &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot; /&gt;
    &lt;bean id=&quot;pooledDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;user&quot; value=&quot;${jdbc.user}&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;

&lt;!--    Mybatis 整合=============================================================--&gt;
&lt;!--    自动注入SqlSessioFactory--&gt;
    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis.xml&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;

&lt;!--    配置扫描器，将mybatis的接口实现加入ioc--&gt;
    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
&lt;!--        扫描所有的ioc实现，加入到ioc容器中--&gt;
        &lt;property name=&quot;basePackage&quot; value=&quot;com.Jancoyan.dao&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;

&lt;!--    配置可以执行批量操作的SQLSession--&gt;
    &lt;bean class=&quot;org.mybatis.spring.SqlSessionTemplate&quot; id=&quot;sqlSession&quot;&gt;
        &lt;constructor-arg name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/constructor-arg&gt;
&lt;!--        BATCH批量执行--&gt;
        &lt;constructor-arg name=&quot;executorType&quot; value=&quot;BATCH&quot;&gt;&lt;/constructor-arg&gt;
    &lt;/bean&gt;

&lt;!-- 配置事务管理======================================--&gt;
&lt;!--    事务管理器--&gt;
    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
&lt;!--        控制数据管理源--&gt;
        &lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;

&lt;!--    开启基于注解的事务管理--&gt;
    &lt;aop:config&gt;
&lt;!--        切入点表达式--&gt;
        &lt;aop:pointcut id=&quot;txPoint&quot; expression=&quot;execution(* com.Jancoyan.service..*(..))&quot;/&gt;
&lt;!--        配置事务增强--&gt;
        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPoint&quot;/&gt;
    &lt;/aop:config&gt;

&lt;!-- 配置事务增强, 事务如何切入--&gt;
    &lt;tx:advice id=&quot;txAdvice&quot;&gt;
        &lt;tx:attributes&gt;
&lt;!--            所有方法都事务方法--&gt;
            &lt;tx:method name=&quot;*&quot;/&gt;
&lt;!--            get开始的所有方法--&gt;
            &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;
        &lt;/tx:attributes&gt;
    &lt;/tx:advice&gt;

&lt;!--    spring 的核心点: 数据源,与 mybatis 的整合--&gt;
&lt;/beans&gt;
</code></pre>
<p>&nbsp;</p>
<h3>mybatis.xml </h3>
<pre><code class='language-xml' lang='xml'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
&lt;!--  数据库字段映射为驼峰式字段--&gt;
    &lt;settings&gt;
        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;
    &lt;/settings&gt;

&lt;!--配置类的别名--&gt;
    &lt;typeAliases&gt;
        &lt;package name=&quot;com.Jancoyan.domain&quot;/&gt;
    &lt;/typeAliases&gt;

&lt;!--    配置分页文件PageHelper--&gt;
    &lt;plugins&gt;
        &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;&gt;
            &lt;property name=&quot;reasonable&quot; value=&quot;true&quot;/&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/configuration&gt;
</code></pre>
<p>&nbsp;</p>
<h3>dispatcherServlet-servlet.xml</h3>
<pre><code class='language-xml' lang='xml'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;

    &lt;!--SpringMVC的配置文件，包含网站跳转逻辑的控制，配置  --&gt;
    &lt;context:component-scan base-package=&quot;com.Jancoyan&quot; use-default-filters=&quot;false&quot;&gt;
        &lt;!--只扫描控制器。  --&gt;
        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;
    &lt;/context:component-scan&gt;

    &lt;!--配置视图解析器，方便页面返回  --&gt;
    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;

    &lt;!--两个标准配置  --&gt;
    &lt;!-- 将springmvc不能处理的请求交给tomcat --&gt;
    &lt;mvc:default-servlet-handler/&gt;
    &lt;!-- 能支持springmvc更高级的一些功能，JSR303校验，快捷的ajax...映射动态请求 --&gt;
    &lt;mvc:annotation-driven/&gt;

&lt;/beans&gt;
</code></pre>
<p>&nbsp;</p>
<h2>其他</h2>
<p>&nbsp;</p>
<p><img src="R:\GITHUB\MyNotes\_Typora\_Docs\SSM开发流程.imgs\image-20210408184043139.png" referrerpolicy="no-referrer" alt="image-20210408184043139"></p>
</body>
</html>