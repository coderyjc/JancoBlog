<!doctype html>
<html>
<head>
<meta charset='GB2312'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>MyBatis逆向工程</title></head>
<body><h1>MyBatis逆向工程 - MyBatis Generator的使用</h1>
<blockquote><p>官网 ： <a href='http://mybatis.org/generator/'>http://mybatis.org/generator/</a></p>
</blockquote>
<ol start='' >
<li><p>添加依赖 、引入jar包</p>
<pre><code class='language-xml' lang='xml'>    &lt;!-- pom.xml --&gt;

	&lt;!-- MBG --&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.mybatis.generator/mybatis-generator-core --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
      &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;
      &lt;version&gt;1.3.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>
</li>
<li><p>在项目主目录下创建<code>mbg.xml</code> （也就是和pom.xml一个目录）</p>
<blockquote><p>MyBatis Generator 官方给出了xml文件的示例 <a href='http://mybatis.org/generator/configreference/xmlconfig.html'>http://mybatis.org/generator/configreference/xmlconfig.html</a>, 我们只需要在这基础上稍作修改。</p>
</blockquote>
<p>以下是我修改之后的配置文件：</p>
<pre><code class='language-xml' lang='xml'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE generatorConfiguration
        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;

&lt;generatorConfiguration&gt;

    &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3&quot;&gt;

&lt;!--        设置不生成注释，可写，可不写--&gt;
        &lt;commentGenerator&gt;
            &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;
        &lt;/commentGenerator&gt;

&lt;!--        配置数据库连接--&gt;
        &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;
                        connectionURL=&quot;jdbc:mysql://localhost:3306/ssm&quot;
                        userId=&quot;root&quot;
                        password=&quot;333&quot;&gt;
        &lt;/jdbcConnection&gt;

        &lt;javaTypeResolver &gt;
            &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot; /&gt;
        &lt;/javaTypeResolver&gt;

&lt;!--       JavaBean生成的位置--&gt;
        &lt;javaModelGenerator targetPackage=&quot;com.Jancoyan.domain&quot;
                            targetProject=&quot;./src/main/java&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;
        &lt;/javaModelGenerator&gt;

&lt;!--        mapper文件生成的位置--&gt;
        &lt;sqlMapGenerator targetPackage=&quot;mapper&quot;
                         targetProject=&quot;./src/main/resources&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
        &lt;/sqlMapGenerator&gt;

&lt;!--        DAO文件生成的位置--&gt;
        &lt;javaClientGenerator type=&quot;XMLMAPPER&quot;
                             targetPackage=&quot;com.Jancoyan.dao&quot;
                             targetProject=&quot;./src/main/java&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
        &lt;/javaClientGenerator&gt;


&lt;!--        表相关数据--&gt;
&lt;!--        tableName表示需要生成的表名字
               domainObjectName 表示生成的类名--&gt;
        &lt;table tableName=&quot;tbl_dept&quot; domainObjectName=&quot;Department&quot; /&gt;
        &lt;table tableName=&quot;tbl_emp&quot; domainObjectName=&quot;Employee&quot; /&gt;

    &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</code></pre>
<p>&nbsp;</p>
<p>相关标签解释：</p>
<ul>
<li><p>jdbcConnection 配置数据库连接</p>
<ul>
<li>标签是自己的数据库配置信息</li>

</ul>
</li>
<li><p>javaModelGenerator 指定JavaBean生成的位置</p>
<ul>
<li>targetPackage: 需要生成的包</li>
<li>targetProject: 指定生成的位置</li>

</ul>
</li>
<li><p>sqlMapGenerator 指定SQL映射文件生成位置</p>
<ul>
<li>targetPackage: 需要生成的包</li>
<li>targetProject: 指定生成的位置</li>

</ul>
</li>
<li><p>javaClientGenerator 指定DAO接口生成的位置</p>
<ul>
<li>targetPackage: 需要生成的包</li>
<li>targetProject: 指定生成的位置</li>

</ul>
</li>
<li><p>table 指定每个表的生成策略</p>
<ul>
<li>tableName属性 需要逆向生成的表名</li>
<li>domainObjectName 生成的类名</li>

</ul>
</li>

</ul>
</li>

</ol>
<ol start='3' >
<li><p>编写Java文件运行生成相关类</p>
<pre><code class='language-java' lang='java'>package com.Jancoyan.test;

import org.mybatis.generator.api.MyBatisGenerator;
import org.mybatis.generator.config.Configuration;
import org.mybatis.generator.config.xml.ConfigurationParser;
import org.mybatis.generator.internal.DefaultShellCallback;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

public class MBGTest {
    public static void main(String[] args) throws Exception {
        List&lt;String&gt; warnings = new ArrayList&lt;String&gt;();
        boolean overwrite = true;
        File configFile = new File(&quot;mbg.xml&quot;); // 自己的配置文件的名称
        ConfigurationParser cp = new ConfigurationParser(warnings);
        Configuration config = cp.parseConfiguration(configFile);
        DefaultShellCallback callback = new DefaultShellCallback(overwrite);
        MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config, callback, warnings);
        myBatisGenerator.generate(null);
    }
}
</code></pre>
<p>运行成功之后就生成了相关类。</p>
</li>

</ol>
</body>
</html>